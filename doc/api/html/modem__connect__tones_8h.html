<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>spandsp: modem_connect_tones.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="css.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">spandsp
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('modem__connect__tones_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">modem_connect_tones.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="modem__connect__tones_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a70e024d778247a5b2866ee182a7e38fb"><td class="memItemLeft" align="right" valign="top"><a id="a70e024d778247a5b2866ee182a7e38fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a70e024d778247a5b2866ee182a7e38fb">MODEM_CONNECT_TONES_FAX_CED</a>&#160;&#160;&#160;<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa4765cf920e24b9ea41202d233f5ac62d">MODEM_CONNECT_TONES_ANS</a></td></tr>
<tr class="memdesc:a70e024d778247a5b2866ee182a7e38fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">FAX CED tone is the same as ANS tone. <br /></td></tr>
<tr class="separator:a70e024d778247a5b2866ee182a7e38fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a34373dd67bc64cd3170ddee79e2be035"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmodem__connect__tones__tx__state__s.html">modem_connect_tones_tx_state_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a></td></tr>
<tr class="separator:a34373dd67bc64cd3170ddee79e2be035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e50b58526ea320531b34c3e39ac6283"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmodem__connect__tones__rx__state__s.html">modem_connect_tones_rx_state_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a></td></tr>
<tr class="separator:a7e50b58526ea320531b34c3e39ac6283"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7cc2e4244ca368f68e5746185eda6c4a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa064015fecd2947aaa9561aea5840fefd">MODEM_CONNECT_TONES_NONE</a> = 0, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa809f52d9e84c25bc6773d9a38b8bda5a">MODEM_CONNECT_TONES_FAX_CNG</a> = 1, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa4765cf920e24b9ea41202d233f5ac62d">MODEM_CONNECT_TONES_ANS</a> = 2, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aabc131d68ffab4dfdfa45812f545b0f9c">MODEM_CONNECT_TONES_ANS_PR</a> = 3, 
<br />
&#160;&#160;<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa5cd00f33a3cef3f5c70cf87bf8abc076">MODEM_CONNECT_TONES_ANSAM</a> = 4, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aadcd71a0c27d398ad8d4a0cbba18c314a">MODEM_CONNECT_TONES_ANSAM_PR</a> = 5, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aadb303c3c4dd7df5d71b057afcdf8aff9">MODEM_CONNECT_TONES_FAX_PREAMBLE</a> = 6, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aaa0579e9e8f9703c7751cdeb8190f4bb5">MODEM_CONNECT_TONES_FAX_CED_OR_PREAMBLE</a> = 7, 
<br />
&#160;&#160;<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa37ddd63a0641ac664921f6fef51c3ea5">MODEM_CONNECT_TONES_BELL_ANS</a> = 8, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa37c98d86e2c6f660832383128b2ffa05">MODEM_CONNECT_TONES_CALLING_TONE</a> = 9, 
<a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa3e767e6667ce15f7fbe405ae05cb064f">MODEM_CONNECT_TONES_REAL_TIME_REPORTS</a> = 0x1000
<br />
 }</td></tr>
<tr class="separator:a7cc2e4244ca368f68e5746185eda6c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a649c7eb43fae2985575110acbbfa78a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a649c7eb43fae2985575110acbbfa78a2">modem_connect_tones_tx_init</a> (<a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *s, int tone_type)</td></tr>
<tr class="memdesc:a649c7eb43fae2985575110acbbfa78a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise an instance of the modem connect tones generator.  <a href="modem__connect__tones_8h.html#a649c7eb43fae2985575110acbbfa78a2">More...</a><br /></td></tr>
<tr class="separator:a649c7eb43fae2985575110acbbfa78a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827ea484ffb3d71b03a38ed6860452a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a827ea484ffb3d71b03a38ed6860452a9">modem_connect_tones_tx_release</a> (<a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *s)</td></tr>
<tr class="memdesc:a827ea484ffb3d71b03a38ed6860452a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release an instance of the modem connect tones generator.  <a href="modem__connect__tones_8h.html#a827ea484ffb3d71b03a38ed6860452a9">More...</a><br /></td></tr>
<tr class="separator:a827ea484ffb3d71b03a38ed6860452a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08bc85f4dc777b2d8159f87828ff53f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a08bc85f4dc777b2d8159f87828ff53f1">modem_connect_tones_tx_free</a> (<a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *s)</td></tr>
<tr class="memdesc:a08bc85f4dc777b2d8159f87828ff53f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an instance of the modem connect tones generator.  <a href="modem__connect__tones_8h.html#a08bc85f4dc777b2d8159f87828ff53f1">More...</a><br /></td></tr>
<tr class="separator:a08bc85f4dc777b2d8159f87828ff53f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5db94878a97574b5c656e84b23024c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a8b5db94878a97574b5c656e84b23024c">modem_connect_tones_tx</a> (<a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *s, int16_t amp[], int len)</td></tr>
<tr class="memdesc:a8b5db94878a97574b5c656e84b23024c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a block of modem connect tones samples.  <a href="modem__connect__tones_8h.html#a8b5db94878a97574b5c656e84b23024c">More...</a><br /></td></tr>
<tr class="separator:a8b5db94878a97574b5c656e84b23024c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e87cc6b3b59516cd3a8b61dc9a27c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a86e87cc6b3b59516cd3a8b61dc9a27c8">modem_connect_tones_rx</a> (<a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *s, const int16_t amp[], int len)</td></tr>
<tr class="memdesc:a86e87cc6b3b59516cd3a8b61dc9a27c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a block of samples through an instance of the modem connect tones detector.  <a href="modem__connect__tones_8h.html#a86e87cc6b3b59516cd3a8b61dc9a27c8">More...</a><br /></td></tr>
<tr class="separator:a86e87cc6b3b59516cd3a8b61dc9a27c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20de73d64f35391a526c4822939176b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a20de73d64f35391a526c4822939176b6">modem_connect_tones_rx_fillin</a> (<a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *s, int len)</td></tr>
<tr class="memdesc:a20de73d64f35391a526c4822939176b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fake processing of a missing block of received modem connect tone samples.  <a href="modem__connect__tones_8h.html#a20de73d64f35391a526c4822939176b6">More...</a><br /></td></tr>
<tr class="separator:a20de73d64f35391a526c4822939176b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231a1ddafee0bf4648b590fb54f140c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a231a1ddafee0bf4648b590fb54f140c4">modem_connect_tones_rx_get</a> (<a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *s)</td></tr>
<tr class="memdesc:a231a1ddafee0bf4648b590fb54f140c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a modem_connect tone has been detected.  <a href="modem__connect__tones_8h.html#a231a1ddafee0bf4648b590fb54f140c4">More...</a><br /></td></tr>
<tr class="separator:a231a1ddafee0bf4648b590fb54f140c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d73e74251ee613bc89cc32be1bb8ef2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a7d73e74251ee613bc89cc32be1bb8ef2">modem_connect_tones_rx_init</a> (<a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *s, int tone_type, span_tone_report_func_t tone_callback, void *user_data)</td></tr>
<tr class="memdesc:a7d73e74251ee613bc89cc32be1bb8ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise an instance of the modem connect tones detector.  <a href="modem__connect__tones_8h.html#a7d73e74251ee613bc89cc32be1bb8ef2">More...</a><br /></td></tr>
<tr class="separator:a7d73e74251ee613bc89cc32be1bb8ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17093acea7cd9f790eb4a6a79b10a5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#ae17093acea7cd9f790eb4a6a79b10a5c">modem_connect_tones_rx_release</a> (<a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *s)</td></tr>
<tr class="memdesc:ae17093acea7cd9f790eb4a6a79b10a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release an instance of the modem connect tones detector.  <a href="modem__connect__tones_8h.html#ae17093acea7cd9f790eb4a6a79b10a5c">More...</a><br /></td></tr>
<tr class="separator:ae17093acea7cd9f790eb4a6a79b10a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88051c8cba681c5e2828e3455ef37237"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modem__connect__tones_8h.html#a88051c8cba681c5e2828e3455ef37237">modem_connect_tones_rx_free</a> (<a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *s)</td></tr>
<tr class="memdesc:a88051c8cba681c5e2828e3455ef37237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an instance of the modem connect tones detector.  <a href="modem__connect__tones_8h.html#a88051c8cba681c5e2828e3455ef37237">More...</a><br /></td></tr>
<tr class="separator:a88051c8cba681c5e2828e3455ef37237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c520ebffe57c7e23a3f85db2ec9cb1"><td class="memItemLeft" align="right" valign="top"><a id="a40c520ebffe57c7e23a3f85db2ec9cb1"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>modem_connect_tone_to_str</b> (int tone)</td></tr>
<tr class="separator:a40c520ebffe57c7e23a3f85db2ec9cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7e50b58526ea320531b34c3e39ac6283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e50b58526ea320531b34c3e39ac6283">&#9670;&nbsp;</a></span>modem_connect_tones_rx_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmodem__connect__tones__rx__state__s.html">modem_connect_tones_rx_state_s</a> <a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Modem connect tones receiver descriptor. This defines the state of a single working instance of the tone detector. </p>

</div>
</div>
<a id="a34373dd67bc64cd3170ddee79e2be035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34373dd67bc64cd3170ddee79e2be035">&#9670;&nbsp;</a></span>modem_connect_tones_tx_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmodem__connect__tones__tx__state__s.html">modem_connect_tones_tx_state_s</a> <a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Modem connect tones generator descriptor. This defines the state of a single working instance of the tone generator. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7cc2e4244ca368f68e5746185eda6c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc2e4244ca368f68e5746185eda6c4a">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aa064015fecd2947aaa9561aea5840fefd"></a>MODEM_CONNECT_TONES_NONE&#160;</td><td class="fielddoc"><p>This is reported when a tone stops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aa809f52d9e84c25bc6773d9a38b8bda5a"></a>MODEM_CONNECT_TONES_FAX_CNG&#160;</td><td class="fielddoc"><p>CNG tone is a pure 1100Hz tone, in 0.5s bursts, with 3s silences in between. The bursts repeat for as long as is required. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aa4765cf920e24b9ea41202d233f5ac62d"></a>MODEM_CONNECT_TONES_ANS&#160;</td><td class="fielddoc"><p>ANS tone is a pure continuous 2100Hz+-15Hz tone for 3.3s+-0.7s. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aabc131d68ffab4dfdfa45812f545b0f9c"></a>MODEM_CONNECT_TONES_ANS_PR&#160;</td><td class="fielddoc"><p>ANS with phase reversals tone is a 2100Hz+-15Hz tone for 3.3s+-0.7s, with a 180 degree phase jump every 450ms+-25ms. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aa5cd00f33a3cef3f5c70cf87bf8abc076"></a>MODEM_CONNECT_TONES_ANSAM&#160;</td><td class="fielddoc"><p>The ANSam tone is a version of ANS with 20% of 15Hz+-0.1Hz AM modulation, as per V.8. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aadcd71a0c27d398ad8d4a0cbba18c314a"></a>MODEM_CONNECT_TONES_ANSAM_PR&#160;</td><td class="fielddoc"><p>The ANSam with phase reversals tone is a version of ANS_PR with 20% of 15Hz+-0.1Hz AM modulation, as per V.8. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aadb303c3c4dd7df5d71b057afcdf8aff9"></a>MODEM_CONNECT_TONES_FAX_PREAMBLE&#160;</td><td class="fielddoc"><p>FAX preamble in a string of V.21 HDLC flag octets. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aaa0579e9e8f9703c7751cdeb8190f4bb5"></a>MODEM_CONNECT_TONES_FAX_CED_OR_PREAMBLE&#160;</td><td class="fielddoc"><p>CED tone is the same as ANS tone. FAX preamble in a string of V.21 HDLC flag octets. This is only valid as a tone type to receive. It is never reported as a detected tone type. The report will either be for FAX preamble or CED/ANS tone. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aa37ddd63a0641ac664921f6fef51c3ea5"></a>MODEM_CONNECT_TONES_BELL_ANS&#160;</td><td class="fielddoc"><p>Bell ANS tone is a pure continuous 2225Hz+-15Hz tone for 3.3s+-0.7s. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aa37c98d86e2c6f660832383128b2ffa05"></a>MODEM_CONNECT_TONES_CALLING_TONE&#160;</td><td class="fielddoc"><p>Calling tone is a pure 1300Hz tone, in 0.6s bursts, with 2s silences in between. The bursts repeat for as long as is required. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7cc2e4244ca368f68e5746185eda6c4aa3e767e6667ce15f7fbe405ae05cb064f"></a>MODEM_CONNECT_TONES_REAL_TIME_REPORTS&#160;</td><td class="fielddoc"><p>A value to OR with the various tone values above, to specify that tone reporting should be real time, as the tone changes (e.g. the 450ms phase reversals in ANSam), which is needed for applications like RFC4733. The default dehaviour is to only report a tone when it is robustly confirmed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a86e87cc6b3b59516cd3a8b61dc9a27c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86e87cc6b3b59516cd3a8b61dc9a27c8">&#9670;&nbsp;</a></span>modem_connect_tones_rx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_rx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t&#160;</td>
          <td class="paramname"><em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a block of samples through an instance of the modem connect tones detector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
    <tr><td class="paramname">amp</td><td>An array of signal samples. </td></tr>
    <tr><td class="paramname">len</td><td>The number of samples in the array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of unprocessed samples. </dd></dl>

</div>
</div>
<a id="a20de73d64f35391a526c4822939176b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20de73d64f35391a526c4822939176b6">&#9670;&nbsp;</a></span>modem_connect_tones_rx_fillin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_rx_fillin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fake processing of a missing block of received modem connect tone samples. </p>
<p>Fake processing of a missing block of received modem connect tone samples (e.g due to packet loss). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
    <tr><td class="paramname">len</td><td>The number of samples to fake. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of samples unprocessed. </dd></dl>

</div>
</div>
<a id="a88051c8cba681c5e2828e3455ef37237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88051c8cba681c5e2828e3455ef37237">&#9670;&nbsp;</a></span>modem_connect_tones_rx_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_rx_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an instance of the modem connect tones detector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for OK, else -1. </dd></dl>

</div>
</div>
<a id="a231a1ddafee0bf4648b590fb54f140c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a231a1ddafee0bf4648b590fb54f140c4">&#9670;&nbsp;</a></span>modem_connect_tones_rx_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_rx_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a modem_connect tone has been detected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The code for the detected tone. </dd></dl>

<p class="reference">References <a class="el" href="structmodem__connect__tones__rx__state__s.html#a7ff22c19292ec0424703ccccb2822b86">modem_connect_tones_rx_state_s::hit</a>, and <a class="el" href="modem__connect__tones_8h.html#a7cc2e4244ca368f68e5746185eda6c4aa064015fecd2947aaa9561aea5840fefd">MODEM_CONNECT_TONES_NONE</a>.</p>

</div>
</div>
<a id="a7d73e74251ee613bc89cc32be1bb8ef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d73e74251ee613bc89cc32be1bb8ef2">&#9670;&nbsp;</a></span>modem_connect_tones_rx_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a>* modem_connect_tones_rx_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tone_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">span_tone_report_func_t&#160;</td>
          <td class="paramname"><em>tone_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise an instance of the modem connect tones detector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
    <tr><td class="paramname">tone_type</td><td>The type of connect tone being tested for. </td></tr>
    <tr><td class="paramname">tone_callback</td><td>An optional callback routine, used to report tones </td></tr>
    <tr><td class="paramname">user_data</td><td>An opaque pointer passed to the callback routine, </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the context. </dd></dl>

</div>
</div>
<a id="ae17093acea7cd9f790eb4a6a79b10a5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae17093acea7cd9f790eb4a6a79b10a5c">&#9670;&nbsp;</a></span>modem_connect_tones_rx_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_rx_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a7e50b58526ea320531b34c3e39ac6283">modem_connect_tones_rx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release an instance of the modem connect tones detector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for OK, else -1. </dd></dl>

</div>
</div>
<a id="a8b5db94878a97574b5c656e84b23024c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b5db94878a97574b5c656e84b23024c">&#9670;&nbsp;</a></span>modem_connect_tones_tx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_tx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a block of modem connect tones samples. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
    <tr><td class="paramname">amp</td><td>An array of signal samples. </td></tr>
    <tr><td class="paramname">len</td><td>The number of samples to generate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of samples generated. </dd></dl>

</div>
</div>
<a id="a08bc85f4dc777b2d8159f87828ff53f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08bc85f4dc777b2d8159f87828ff53f1">&#9670;&nbsp;</a></span>modem_connect_tones_tx_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_tx_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an instance of the modem connect tones generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for OK, else -1. </dd></dl>

</div>
</div>
<a id="a649c7eb43fae2985575110acbbfa78a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a649c7eb43fae2985575110acbbfa78a2">&#9670;&nbsp;</a></span>modem_connect_tones_tx_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a>* modem_connect_tones_tx_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tone_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise an instance of the modem connect tones generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a827ea484ffb3d71b03a38ed6860452a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a827ea484ffb3d71b03a38ed6860452a9">&#9670;&nbsp;</a></span>modem_connect_tones_tx_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modem_connect_tones_tx_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="modem__connect__tones_8h.html#a34373dd67bc64cd3170ddee79e2be035">modem_connect_tones_tx_state_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release an instance of the modem connect tones generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for OK, else -1. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b02e37338aa4da159a1ac7f6120ebae0.html">spandsp</a></li><li class="navelem"><a class="el" href="modem__connect__tones_8h.html">modem_connect_tones.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
